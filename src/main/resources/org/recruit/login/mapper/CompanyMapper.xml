<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.recruit.login.mapper.CompanyMapper">

  	<!-- 회원정보 확인 -->
  	<select id="read" resultType="org.recruit.login.domain.CompanyVO">
		SELECT 
		 id, pw, auth, cno, name, phone, address, type, manager, joinDate
		FROM 
		  company
		 WHERE cno = #{cno}
  	</select>

	<!-- 회원가입 -->
    <insert id="insert">
	  insert into company (id, pw, cno, name, phone, address, type, manager)
	  values (#{id}, #{pw}, #{cno}, #{name}, #{phone}, #{address}, #{type}, #{manager})
  	</insert>
  
	<!-- 회원 탈퇴 -->
    <delete id="delete">
		delete from company where cno = #{cno}
    </delete>

	<!-- 회원 수정 -->
  	<update id="update">
		update company 
		set pw = #{pw},
			phone = #{phone},
			address = #{address},
			type = #{type},
			manager = #{manager},
			updateDate = sysdate
			<!-- mem_update = TO_CHAR(SYSDATE, 'YYYY/MM/DD HH:MI:SS') -->
		where cno = #{cno} 
  	</update>
  
  <select id="getList" resultType="org.recruit.login.domain.CompanyVO">
 		<![CDATA[
 			select * from company where cno > 0
 		]]>
 	  </select>
</mapper>
